## Copyright (c) 2018 FIRST, Thomas Barnette, George Marchant, and Trey Woodlief. All rights reserved.
##
## Redistribution and use in source and binary forms, with or without modification,
## are permitted (subject to the limitations in the disclaimer below) provided that
## the following conditions are met:
##
## Redistributions of source code must retain the above copyright notice, this list
## of conditions and the following disclaimer.
##
## Redistributions in binary form must reproduce the above copyright notice, this
## list of conditions and the following disclaimer in the documentation and/or
## other materials provided with the distribution.
##
## Neither the name of FIRST nor the names of its contributors may be used to endorse or
## promote products derived from this software without specific prior written permission.
##
## NO EXPRESS OR IMPLIED LICENSES TO ANY PARTY'S PATENT RIGHTS ARE GRANTED BY THIS
## LICENSE. THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
## "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
## THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
## ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE
## FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
## DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
## SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
## CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
## OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
## OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
##

#parse("/velocity/layout.vm")
#parse("/velocity/event/counter_macro.vm")
#parse("/velocity/utils/spaces.vm")
#@mainLayout()
<link rel="stylesheet" href="/event/ref.css?v=$!random">
<style>
div.form-group > label,
div.form-group > button,
div.form-group > input,
div.form-group > div {
	margin-top:10px;
}
img {
	max-width:100%;
	margin:0px;
}
.red.alliance {
	background: #ED1C24;
}
.blue.alliance {
	background: #0066B3;
}
.alliance {
	color:white;
}
.fieldBtn {
	margin-top:10px;
}
</style>
<script>
$( document ).ready(function() {
	$.ajax({
        url: "../wait/?random=$random", //this is here because chrome is overly secure, does not allow duplicate requests to same endpoint
        type: "GET",
        success: function (data) {
            //we good
            console.log("we good");
            location.reload();
        },
        error: function (xhr, textStatus, errorThrown) {
            //ERROR HANDLING
            console.log("Error");
        }});
});
</script>
<div class="row justify-content-center">
	<div class="col-10 alert alliance $alliance text-center">
	Match Selection
	</div>
</div>
#if($matches.size() == 0)
#if($field == "all")
<div class="form-group row justify-content-center">
<div>No active matches at this time.<br>This page will refresh when the Scorekeeper prepares a match to play.</div>
</div>
#else
<div class="form-group row justify-content-center">
<div>No active matches for field $field at this time.<br>This page will refresh when the Scorekeeper prepares a match to play.</div>
</div>
#end
#else
#foreach($match in $matches)
<div class="form-group row justify-content-center">
<a  href="../$match.number/$alliance/" class="btn btn-outline-primary btn-lg col-10 fieldBtn">Match $match.getShortName()&nbsp;&nbsp;&nbsp;&nbsp;$allianceDisplay Teams:&nbsp;&nbsp;&nbsp;&nbsp;$match.getAlliance($allianceInt).getTeam1Number(),&nbsp;&nbsp;&nbsp;&nbsp;$match.getAlliance($allianceInt).getTeam2Number()#if($match.getAlliance($allianceInt).getTeam3Number() != -1),&nbsp;&nbsp;&nbsp;&nbsp;$match.getAlliance($allianceInt).getTeam3Number()#end</a>
</div>
#end
#end


#end