## Copyright (c) 2018 FIRST, Thomas Barnette, George Marchant, and Trey Woodlief. All rights reserved.
##
## Redistribution and use in source and binary forms, with or without modification,
## are permitted (subject to the limitations in the disclaimer below) provided that
## the following conditions are met:
##
## Redistributions of source code must retain the above copyright notice, this list
## of conditions and the following disclaimer.
##
## Redistributions in binary form must reproduce the above copyright notice, this
## list of conditions and the following disclaimer in the documentation and/or
## other materials provided with the distribution.
##
## Neither the name of FIRST nor the names of its contributors may be used to endorse or
## promote products derived from this software without specific prior written permission.
##
## NO EXPRESS OR IMPLIED LICENSES TO ANY PARTY'S PATENT RIGHTS ARE GRANTED BY THIS
## LICENSE. THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
## "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
## THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
## ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE
## FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
## DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
## SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
## CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
## OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
## OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
##

#macro(basicDefaultAccounts)
<style>
.half {
	width:50%;
}
</style>
<script>
function regen() {
	$("#printButton").prop("disabled", true);
	$("#statusText").text("Generating New Accounts...");
	$.ajax({
	    url: './rerandom/',
	    type: 'GET',
	    success: function (data,textStatus, xhr) {
	    	window.location.reload();
	    },
	    error: function(xhr, status, error){
	    
	    }
	});
}
function reset() {
	$("#statusText").text("Resetting Passwords to the Below...");
	$.ajax({
	    url: './reset/',
	    type: 'GET',
	    success: function (data,textStatus, xhr) {
	    	window.location.reload();
	    },
	    error: function(xhr, status, error){
	    
	    }
	});
}
</script>
<div class="row">
	<div class="col-12">
		<button class="float-left btn btn-primary onlyOnFull text-center" onclick="regen()">Generate New Random Accounts</button>
		<button class="float-right btn btn-primary onlyOnFull text-center" onclick="reset()">Reset Accounts</button>
	</div>
</div>
<div class="row justify-content-center">
		<div id="statusText" class="onlyOnFull"></div>
</div>
<div class="row justify-content-center">
<div class="col-1 onlyOnFull" style="display:none"></div>
<h2 class="text-center col-10">$eventName Default Accounts</h2>
<button id="printButton" type="button" class="col-1 btn btn-light onlyOnFull justify-content-center text-center" onclick="window.print()" style="display:none"><i class="fas fa-print fa-2x"></i></button>
</div>
<div class="row">
<table class = "table table-striped">
		#foreach($user in $users)
			<tr>
				<th class="text-center half">Username</th>
				<th class="text-center half">Password</th>
			</tr>
			<tr>
				<td class="text-center half">$user.getUsername()</td>
				<td class="text-center half">$pwMap.get($user)</td>
			</tr>
		#end
</table>
</div>
<div class="row">
<small class="col-12 text-center">
<span class="line">$formattedAppName</span> <span class="line">&copy; 2018-$currentYear <i>FIRST</i>&reg;</span>
</small>
</div>

#end