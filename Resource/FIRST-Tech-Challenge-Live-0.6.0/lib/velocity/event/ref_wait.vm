## Copyright (c) 2018 FIRST, Thomas Barnette, George Marchant, and Trey Woodlief. All rights reserved.
##
## Redistribution and use in source and binary forms, with or without modification,
## are permitted (subject to the limitations in the disclaimer below) provided that
## the following conditions are met:
##
## Redistributions of source code must retain the above copyright notice, this list
## of conditions and the following disclaimer.
##
## Redistributions in binary form must reproduce the above copyright notice, this
## list of conditions and the following disclaimer in the documentation and/or
## other materials provided with the distribution.
##
## Neither the name of FIRST nor the names of its contributors may be used to endorse or
## promote products derived from this software without specific prior written permission.
##
## NO EXPRESS OR IMPLIED LICENSES TO ANY PARTY'S PATENT RIGHTS ARE GRANTED BY THIS
## LICENSE. THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
## "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
## THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
## ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE
## FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
## DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
## SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
## CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
## OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
## OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
##

#parse("/velocity/layout.vm")
#parse("/velocity/event/counter_macro.vm")
#parse("/velocity/utils/spaces.vm")
#@mainLayout()
<link rel="stylesheet" href="/event/ref.css?v=$!random">
<style>
div.form-group > label,
div.form-group > button,
div.form-group > input,
div.form-group > div {
	margin-top:10px;
}
img {
	max-width:100%;
	margin:0px;
}
.red.alliance {
	background: #ED1C24;
}
.blue.alliance {
	background: #0066B3;
}
.alliance {
	color:white;
}
</style>
<script>

//var rand = $rand; //the randomization filled in by velocity. Refresh if re-rand.
var yesGold = "/img/block_yellow.png";
var noGold = "/img/block_black.png";
var yesSilver = "/img/ball_white.png";
var noSilver = "/img/ball_black.png";
$( document ).ready(function() {
	$.ajax({
        url: "./wait/",
        type: "GET",
        success: function (data) {
            //we good
            console.log("we good");
            location.reload();
        },
        error: function (xhr, textStatus, errorThrown) {
        	if(xhr.responseText == "LOCKOUT")window.location.reload(true);
            //ERROR HANDLING
            console.log("Error");
        }});
});
</script>
<div class="row justify-content-center">
	<div class="col-10 alert alliance $alliance text-center">
	Wait For Match Start
	</div>
</div>
<div class="form-group row justify-content-center">
<div>Waiting for match to start. This page will automatically load when the match has started.</div>
</div>
<br><br>
<div class="form-group row justify-content-center">
<h3>Waiting for Match $matchObj.getNumber()&nbsp;&nbsp;&nbsp;&nbsp;$allianceDisplay Teams:&nbsp;&nbsp;&nbsp;&nbsp;$matchObj.getAlliance($allianceInt).getTeam1Number(),&nbsp;&nbsp;&nbsp;&nbsp;$matchObj.getAlliance($allianceInt).getTeam2Number()#if($matchObj.getAlliance($allianceInt).getTeam3Number() != -1),&nbsp;&nbsp;&nbsp;&nbsp;$matchObj.getAlliance($allianceInt).getTeam3Number()#end</h3>
</div>
<br><br>
#if($randomization < 0)
<div class="form-group row justify-content-center">
<div>Match has not been randomized. This page will update once the randomization has been decided</div>
</div>
#else
	<div class="form-group row justify-content-center">
		<div class="col-4">
			<img src=#if($randomization == 1 || $randomization == 6)"/img/block_yellow.png"#else"/img/ball_white_plain.png"#end class="img-responsive">
		</div>
		<div class="col-4">
			<img src=#if($randomization == 2 || $randomization == 5)"/img/block_yellow.png"#else"/img/ball_white_plain.png"#end class="img-responsive" >
		</div>
		<div class="col-4">
			<img src=#if($randomization == 3 || $randomization == 4)"/img/block_yellow.png"#else"/img/ball_white_plain.png"#end class="img-responsive" >
		</div>
	</div>
#end
#end