## Copyright (c) 2018 FIRST, Thomas Barnette, George Marchant, and Trey Woodlief. All rights reserved.
##
## Redistribution and use in source and binary forms, with or without modification,
## are permitted (subject to the limitations in the disclaimer below) provided that
## the following conditions are met:
##
## Redistributions of source code must retain the above copyright notice, this list
## of conditions and the following disclaimer.
##
## Redistributions in binary form must reproduce the above copyright notice, this
## list of conditions and the following disclaimer in the documentation and/or
## other materials provided with the distribution.
##
## Neither the name of FIRST nor the names of its contributors may be used to endorse or
## promote products derived from this software without specific prior written permission.
##
## NO EXPRESS OR IMPLIED LICENSES TO ANY PARTY'S PATENT RIGHTS ARE GRANTED BY THIS
## LICENSE. THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
## "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
## THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
## ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE
## FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
## DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
## SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
## CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
## OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
## OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
##

#macro(basicResults)
<style>
td, th {
	text-align:center;
	vertical-align:middle !important;
}
</style>
#if($matches.size() > 0)
<div class="row justify-content-center">
<div class="col-1 onlyOnFull" style="display:none"></div>
<h2 class="text-center col-10">$eventName Match Results</h2>
<button type="button" class="col-1 btn btn-light onlyOnFull justify-content-center text-center" onclick="window.print()" style="display:none"><i class="fas fa-print fa-2x"></i></button>
</div>
<div class="row">
<table class = "table" align=center>
		<thead>
			<tr align=center>
				<th scope="col">Match</th>
				<th scope="col">Result</th>
				<th scope="col">Red</th>
				<th scope="col">Blue</th>
				<th scope="col" class="onlyOnFull" colspan="2">Score breakdown</th>
				#if($EVENT_ADMIN)
					<th scope="col" class="onlyOnFull">History</th>
				#end
			</tr>
		</thead>
		#set ($redColor = "#FF4444")
		#set ($blueColor = "#44AAFF")
		#set($i = 0)
		#foreach($m in $matches)
		
			#if($i % 2 == 0)
				#set ($c = "#FFFFFF")	
			#else
				#set ($c = "#CCCCCC")
			#end
			
			#if($m.getRed().equals($m.getWinner()))
				#set ($winColor = "$redColor")
				#set ($winChar = "R")
			#elseif($m.getBlue().equals($m.getWinner()))
				#set ($winColor = "$blueColor")
				#set ($winChar = "B")
			#else
				#set ($winColor = "#CCCCCC")
				#set ($winChar = "T")
			#end
	#if("$m.getState()" != "COMMITTED")
		#set ($winColor = "$c")
	#end
			<tr align=center>
		#set($rowspan = 2)
		#if($m.hasThirdTeam())
			#set($rowspan = 3)
		#end
		<td rowspan="$rowspan"  bgcolor="$c">
			$m.getShortName()
		<!--
			#if("$m.getType()" == "PRACTICE")
				P-$m.getNumber()
			#elseif("$m.getType()" == "QUALS")
				Q-$m.getNumber()
			#else
				$m.getShortName()
			#end
			-->
		</td>
		
		<td  rowspan="$rowspan" BGCOLOR="$winColor">
			#if("$m.getState()" == "COMMITTED")
				${m.getRedTotal()}-${m.getBlueTotal()} $winChar
			#else
				Unplayed
			#end
		</td>
		<td rowspan="1" bgcolor="$c">$m.getRed1DisplayString()</td>
		<td rowspan="1" bgcolor="$c">$m.getBlue1DisplayString()</td>
		<td rowspan="1" bgcolor="$c" class="onlyOnFull" colspan="2">#if("$m.getState()" == "COMMITTED")<a href="../match/$m.getShortName()/">Scoresheet</a>#{else}Scoresheet#end</td>
		#if($EVENT_ADMIN)
			<td rowspan="$rowspan" class="onlyOnFull" bgcolor="$c">#if($m.getCommits().size()>0)<a href="../match/$m.getShortName()/history/">View Match History</a>#end</td>
		#end
		</tr>
		<tr>
		<td rowspan="1" bgcolor="$c">$m.getRed2DisplayString()</td>
		<td rowspan="1" bgcolor="$c">$m.getBlue2DisplayString()</td>
		<td rowspan="1" bgcolor="$c" class="onlyOnFull">#if("$m.getState()" == "COMMITTED")<a href="../match/$m.getShortName()/red/">Red</a>#{else}Red#end</td>
		<td rowspan="1" bgcolor="$c" class="onlyOnFull">#if("$m.getState()" == "COMMITTED")<a href="../match/$m.getShortName()/blue/">Blue</a>#{else}Blue#end</td>
		</tr>
		#if($m.hasThirdTeam())
		<tr>
		<td rowspan="1" bgcolor="$c">$m.getRed3DisplayString()</td>
		<td rowspan="1" bgcolor="$c">$m.getBlue3DisplayString()</td>
		<td rowspan="1" bgcolor="$c"></td>
		<td rowspan="1" bgcolor="$c"></td>
		</tr>
		#end
					#set($i = $i + 1)
		#end	
</table>
</div>
<div class="row">
<small class="col-12 text-center">
Results current as of $currentTime
<br>
<span class="line">MatchMaker Scheduling Software</span>  <span class="line">&copy; 2007-2017 Idle Loop Software Design. LLC</span>
<br>
<span class="line">$formattedAppName</span> <span class="line">&copy; 2018-$currentYear <i>FIRST</i>&reg;</span>
</small>
</div>
#else
<div class="row">
<div class="col-11 offset-1">Teams have not been added to this event yet.</div>
</div>
#end
#end