## Copyright (c) 2018 FIRST, Thomas Barnette, George Marchant, and Trey Woodlief. All rights reserved.
##
## Redistribution and use in source and binary forms, with or without modification,
## are permitted (subject to the limitations in the disclaimer below) provided that
## the following conditions are met:
##
## Redistributions of source code must retain the above copyright notice, this list
## of conditions and the following disclaimer.
##
## Redistributions in binary form must reproduce the above copyright notice, this
## list of conditions and the following disclaimer in the documentation and/or
## other materials provided with the distribution.
##
## Neither the name of FIRST nor the names of its contributors may be used to endorse or
## promote products derived from this software without specific prior written permission.
##
## NO EXPRESS OR IMPLIED LICENSES TO ANY PARTY'S PATENT RIGHTS ARE GRANTED BY THIS
## LICENSE. THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
## "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
## THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
## ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE
## FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
## DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
## SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
## CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
## OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
## OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
##

#parse("/velocity/layout.vm")
#@mainLayout()

	<style>
	.uploadForm {
		display:inline;
		float:right;
		padding-left:10px;
	}
	img {
		max-width:100%;
	}
	</style>
	<script>
	function deleteSponsor(ID) {

		$.ajax({
		    url: './' + ID,
		    type: 'DELETE',
		    success: function (data,textStatus, xhr) {
				$("#" + ID).remove();
		    },
		    error: function(xhr, status, error){
		    
		    }
		});
	}
	</script>
	<div class="row justify-content-center">
		<a href=".." class="col-4"><< Back to Dashboard</a>  <div class="col-8">
		<form method='post' enctype='multipart/form-data' action="./import/" class="uploadForm">
    			<input type='file' accept=".zip" name='uploaded_file' onchange="document.getElementById('importSponsorsButton').disabled = (this.value.length == 0)"></input>
    			<button id="importSponsorsButton" disabled>Import Sponsor Data</button>
			</form>
		</div>
	</div>
	<hr>
	<div class="row justify-content-center">
		<div class="col-3"></div><div class="col-6 h2 text-center">Sponsors:</div> <div class="col-3"></div>
	</div>
<div class="row justify-content-center">
 <table id="leagues" class="table table-striped table-hover" style ="word-break:break-word;">
    	    <thead>
    			<tr class="d-flex">
    				<th scope="col" class="col-4 text-center">Name</th>
    				<th scope="col" class="col-2 text-center">Level</th>
    				<th scope="col" class="col-4 text-center">Logo</th>
    				<th scope="col" class="col-2 text-center" colspan=2><a href="add/" class="btn btn-secondary">Add</a></th>
    			</tr>
    			</thead>
    			<tbody>
    			#foreach ($sponsor in $sponsors)
    			<tr class="d-flex" id="$sponsor.getID()">
					<td scope="col" class="col-4 text-center">$sponsor.getName()</td>
    				<td scope="col" class="col-2 text-center">$sponsor.getLevel().getDisplayString()</td>
    				<td scope="col" class="col-4 text-center"><img src="$sponsor.getLogoImagePath()" class="img-thumbnail"></td>
    				<th scope="col" class="col-1 text-center"><a href="edit/$sponsor.getID()/" class="btn btn-secondary">Edit</a></th>
    				<th scope="col" class="col-1 text-center"><button class="btn btn-warning" onclick="deleteSponsor($sponsor.getID())">Delete</button></th>
    			</tr>
    			#end
				</tbody>
    		</table>
</div>
#end